// Internationalization (i18n) for Windows Icon Generator
// Default language: English

const translations = {
  en: {
    title: "Windows Icon Converter",
    description1: "Convert image files to Windows icon files (.ico).",
    description2: "Includes 256x256, 128x128, 64x64, 48x48, 32x32, 16x16 sizes.",
    selectFile: "ðŸ“ Select Image File",
    selectHint: "PNG, JPG, JPEG, BMP, GIF",
    selectedFile: "Selected File:",
    fileSize: "File Size:",
    convertBtn: "ðŸ”„ Convert to ICO",
    downloadBtn: "ðŸ’¾ Download ICO File",
    previewTitle: "Preview (Generated Icon Sizes)",
    conversionComplete: "âœ… Conversion Complete!",
    generatedSizes: "Generated sizes:",
    errorTitle: "Error",
    errorFileLoad: "Failed to load file. Please select an image file.",
    errorConversion: "Conversion failed:",
    errorDownload: "Download failed:",
    successDownload: "File saved successfully!",
    version: "Version"
  },
  
  ja: {
    title: "Windows ã‚¢ã‚¤ã‚³ãƒ³å¤‰æ›",
    description1: "ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’Windowsã‚¢ã‚¤ã‚³ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«(.ico)ã«å¤‰æ›ã—ã¾ã™ã€‚",
    description2: "256x256, 128x128, 64x64, 48x48, 32x32, 16x16ã®ã‚µã‚¤ã‚ºãŒå«ã¾ã‚Œã¾ã™ã€‚",
    selectFile: "ðŸ“ ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠž",
    selectHint: "PNG, JPG, JPEG, BMP, GIF",
    selectedFile: "é¸æŠžã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«:",
    fileSize: "ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º:",
    convertBtn: "ðŸ”„ ICOã«å¤‰æ›",
    downloadBtn: "ðŸ’¾ ICOãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰",
    previewTitle: "ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼ˆç”Ÿæˆã•ã‚ŒãŸã‚¢ã‚¤ã‚³ãƒ³ã‚µã‚¤ã‚ºï¼‰",
    conversionComplete: "âœ… å¤‰æ›å®Œäº†ï¼",
    generatedSizes: "ç”Ÿæˆã•ã‚ŒãŸã‚µã‚¤ã‚º:",
    errorTitle: "ã‚¨ãƒ©ãƒ¼",
    errorFileLoad: "ãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠžã—ã¦ãã ã•ã„ã€‚",
    errorConversion: "å¤‰æ›ã«å¤±æ•—ã—ã¾ã—ãŸ:",
    errorDownload: "ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã«å¤±æ•—ã—ã¾ã—ãŸ:",
    successDownload: "ãƒ•ã‚¡ã‚¤ãƒ«ãŒæ­£å¸¸ã«ä¿å­˜ã•ã‚Œã¾ã—ãŸï¼",
    version: "ãƒãƒ¼ã‚¸ãƒ§ãƒ³"
  },
  
  ko: {
    title: "Windows ì•„ì´ì½˜ ë³€í™˜ê¸°",
    description1: "ì´ë¯¸ì§€ íŒŒì¼ì„ Windows ì•„ì´ì½˜ íŒŒì¼(.ico)ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.",
    description2: "256x256, 128x128, 64x64, 48x48, 32x32, 16x16 í¬ê¸°ê°€ í¬í•¨ë©ë‹ˆë‹¤.",
    selectFile: "ðŸ“ ì´ë¯¸ì§€ íŒŒì¼ ì„ íƒ",
    selectHint: "PNG, JPG, JPEG, BMP, GIF",
    selectedFile: "ì„ íƒëœ íŒŒì¼:",
    fileSize: "íŒŒì¼ í¬ê¸°:",
    convertBtn: "ðŸ”„ ICOë¡œ ë³€í™˜",
    downloadBtn: "ðŸ’¾ ICO íŒŒì¼ ë‹¤ìš´ë¡œë“œ",
    previewTitle: "ë¯¸ë¦¬ë³´ê¸° (ìƒì„±ëœ ì•„ì´ì½˜ í¬ê¸°)",
    conversionComplete: "âœ… ë³€í™˜ ì™„ë£Œ!",
    generatedSizes: "ìƒì„±ëœ í¬ê¸°:",
    errorTitle: "ì˜¤ë¥˜",
    errorFileLoad: "íŒŒì¼ì„ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ì´ë¯¸ì§€ íŒŒì¼ì„ ì„ íƒí•´ì£¼ì„¸ìš”.",
    errorConversion: "ë³€í™˜ ì‹¤íŒ¨:",
    errorDownload: "ë‹¤ìš´ë¡œë“œ ì‹¤íŒ¨:",
    successDownload: "íŒŒì¼ì´ ì„±ê³µì ìœ¼ë¡œ ì €ìž¥ë˜ì—ˆìŠµë‹ˆë‹¤!",
    version: "ë²„ì „"
  }
};

// Get current language from localStorage (default: 'en')
function getCurrentLanguage() {
  return localStorage.getItem('language') || 'en';
}

// Set current language to localStorage
function setCurrentLanguage(lang) {
  if (translations[lang]) {
    localStorage.setItem('language', lang);
    return true;
  }
  return false;
}

// Get translation for a key
function t(key) {
  const lang = getCurrentLanguage();
  return translations[lang]?.[key] || translations.en[key] || key;
}

// Update all UI text elements with current language
function updateUILanguage() {
  const lang = getCurrentLanguage();
  
  // Update all elements with data-i18n attribute
  document.querySelectorAll('[data-i18n]').forEach(element => {
    const key = element.getAttribute('data-i18n');
    const translation = translations[lang]?.[key] || translations.en[key];
    
    if (translation) {
      // Handle different element types
      if (element.tagName === 'INPUT') {
        element.value = translation;
      } else {
        // For buttons, spans, paragraphs, etc., use textContent
        element.textContent = translation;
      }
    }
  });
  
  // Update language selector active state
  document.querySelectorAll('.lang-btn').forEach(btn => {
    btn.classList.toggle('active', btn.dataset.lang === lang);
  });
}

// Export for use in main.js
if (typeof module !== 'undefined' && module.exports) {
  module.exports = { t, getCurrentLanguage, setCurrentLanguage, updateUILanguage };
}
